# Project Structure

Understanding the files and folders generated by create-chrome-ext will help you navigate and customize your extension effectively.

## Common Files

All templates share these essential files:

<Section>

### `manifest.json`
The heart of every Chrome extension. This file defines:
- Extension metadata (name, version, description)
- Permissions required by your extension
- UI components (popup, options page, etc.)
- Background scripts and content scripts
- Icons and other resources

```json
{
  "manifest_version": 3,
  "name": "My Extension",
  "version": "1.0.0",
  "description": "Extension description",
  "action": {
    "default_popup": "popup.html"
  },
  "permissions": ["storage", "tabs"],
  "icons": {
    "16": "icons/icon16.png",
    "48": "icons/icon48.png",
    "128": "icons/icon128.png"
  }
}
```

### `package.json`
Standard Node.js package file containing:
- Project dependencies
- Build and development scripts
- Extension metadata
- NPM configuration

### `icons/` Directory
Contains extension icons in required sizes:
- **16px** - Favicon and small UI elements
- **48px** - Extension management page
- **128px** - Chrome Web Store and installation

</Section>

## Template-Specific Structures

Each template organizes files differently based on its technology stack:

### Vanilla JavaScript

<Section>

```
vanilla-js/
├── icons/
├── manifest.json
├── package.json
├── popup.html        # Main popup interface
├── popup.css         # Popup styles
├── popup.js          # Popup logic
├── background.js     # Background service worker (optional)
└── content.js        # Content script (optional)
```

**Characteristics:**
- Flat file structure
- Direct HTML/CSS/JS files
- No build process required
- Files directly referenced in manifest

</Section>

### React + Vite

<Section>

```
react-vite/
├── public/
│   ├── icons/
│   └── manifest.json    # Static manifest file
├── src/
│   ├── App.jsx          # Main React component
│   ├── main.jsx         # React entry point
│   ├── App.css          # Component styles
│   └── index.css        # Global styles
├── index.html           # HTML template
├── vite.config.js       # Vite configuration
├── package.json
└── dist/                # Build output (generated)
    ├── assets/
    ├── index.html
    └── manifest.json
```

**Characteristics:**
- Source files in `src/`
- Static assets in `public/`
- Built files in `dist/`
- Hot module replacement during development

</Section>

### React + Next.js

<Section>

```
react-next/
├── pages/
│   ├── index.js         # Popup page
│   ├── options.js       # Options page
│   └── _app.js          # App configuration
├── public/
│   ├── icons/
│   └── manifest.json    # Static manifest
├── styles/
│   ├── globals.css      # Global styles
│   └── Home.module.css  # Component modules
├── scripts/
│   └── post-build.js    # Build post-processing
├── next.config.js       # Next.js configuration
├── package.json
└── out/                 # Build output (generated)
    ├── next/            # Next.js assets (renamed from _next)
    ├── index.html
    ├── options.html
    └── manifest.json
```

**Characteristics:**
- File-based routing in `pages/`
- Automatic static site generation
- Post-build processing for Chrome compatibility
- Multiple HTML pages generated

</Section>

## Build Directories

Understanding where your built extension files go:

<Section>

### Development vs Production

**Development:**
- Files are built for fast iteration
- Source maps included for debugging
- Hot reload enabled (React templates)
- Unminified for readability

**Production:**
- Optimized and minified files
- Source maps optional
- Ready for Chrome Web Store
- Smallest possible bundle size

### Loading in Chrome

When developing, load the appropriate directory:
- **Vanilla JS**: Project root or `dist/`
- **React + Vite**: `dist/` directory
- **React + Next.js**: `out/` directory

</Section>

## Configuration Files

<Section>

### `vite.config.js` (React + Vite)

```javascript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  build: {
    outDir: 'dist',
    rollupOptions: {
      input: {
        popup: 'index.html'
      }
    }
  }
})
```

### `next.config.js` (React + Next.js)

```javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  output: 'export',
  trailingSlash: true,
  images: {
    unoptimized: true
  }
}

module.exports = nextConfig
```

### `.gitignore`

All templates include appropriate `.gitignore` files:

```gitignore
# Dependencies
node_modules/

# Build outputs
dist/
out/
build/

# Environment files
.env.local
.env

# IDE files
.vscode/
.idea/

# OS files
.DS_Store
Thumbs.db
```

</Section>

## Adding New Files

<Section>

### Background Scripts

For service workers (Manifest V3):

1. Create `background.js` in your source directory
2. Add to manifest:
```json
{
  "background": {
    "service_worker": "background.js"
  }
}
```

### Content Scripts

For scripts that run on web pages:

1. Create `content.js` in your source directory
2. Add to manifest:
```json
{
  "content_scripts": [{
    "matches": ["<all_urls>"],
    "js": ["content.js"]
  }]
}
```

### Options Page

For extension settings:

1. Create options page (HTML for Vanilla, component for React)
2. Add to manifest:
```json
{
  "options_page": "options.html"
}
```

### Web Accessible Resources

For files that web pages can access:

```json
{
  "web_accessible_resources": [{
    "resources": ["images/*", "styles/*"],
    "matches": ["<all_urls>"]
  }]
}
```

</Section>

## Best Practices

<Section>

### File Organization

- **Keep source separate from build** - Use `src/` directories
- **Group by feature** - Related files together
- **Use clear naming** - Descriptive file names
- **Separate concerns** - Logic, styles, and templates apart

### Asset Management

- **Optimize images** - Use appropriate formats and sizes
- **Version assets** - For cache busting
- **Bundle efficiently** - Avoid unnecessary dependencies
- **Test thoroughly** - Verify all resources load correctly

### Development Workflow

- **Use build tools** - Leverage hot reload and optimization
- **Test frequently** - Load extension after changes
- **Version control** - Track changes with git
- **Document changes** - Keep README updated

</Section>

<DocsNavigation
  previous={{
    href: "/docs/templates/react-nextjs",
    title: "React + Next.js Template",
    description: "Full-featured framework template"
  }}
  next={{
    href: "/docs/chrome-apis",
    title: "Chrome APIs",
    description: "Working with extension APIs"
  }}
/>
